/*! xcssmatrix - v0.0.6 - 2012-10-01
 * https://github.com/jfsiii/XCSSMatrix
 * Copyright (c) 2012 John Schulz
 * Licensed MIT <http://jfsiii.mit-license.org> */
(function(){var e=function(t,n){var r=e.resolve(t,n||"/"),i=e.modules[r];if(!i)throw new Error("Failed to resolve module "+t+", tried "+r);var s=e.cache[r],o=s?s.exports:i();return o};e.paths=[],e.modules={},e.cache={},e.extensions=[".js",".coffee",".json"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(t,n){function u(t){t=r.normalize(t);if(e.modules[t])return t;for(var n=0;n<e.extensions.length;n++){var i=e.extensions[n];if(e.modules[t+i])return t+i}}function a(t){t=t.replace(/\/+$/,"");var n=r.normalize(t+"/package.json");if(e.modules[n]){var i=e.modules[n](),s=i.browserify;if(typeof s=="object"&&s.main){var o=u(r.resolve(t,s.main));if(o)return o}else if(typeof s=="string"){var o=u(r.resolve(t,s));if(o)return o}else if(i.main){var o=u(r.resolve(t,i.main));if(o)return o}}return u(t+"/index")}function f(e,t){var n=l(t);for(var r=0;r<n.length;r++){var i=n[r],s=u(i+"/"+e);if(s)return s;var o=a(i+"/"+e);if(o)return o}var s=u(e);if(s)return s}function l(e){var t;e==="/"?t=[""]:t=r.normalize(e).split("/");var n=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";n.push(s)}return n}n||(n="/");if(e._core[t])return t;var r=e.modules.path();n=r.resolve("/",n);var i=n||"/";if(t.match(/^(?:\.\.?\/|\/)/)){var s=u(r.resolve(i,t))||a(r.resolve(i,t));if(s)return s}var o=f(t,i);if(o)return o;throw new Error("Cannot find module '"+t+"'")}}(),e.alias=function(t,n){var r=e.modules.path(),i=null;try{i=e.resolve(t+"/package.json","/")}catch(s){i=e.resolve(t,"/")}var o=r.dirname(i),u=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(e.modules);for(var a=0;a<u.length;a++){var f=u[a];if(f.slice(0,o.length+1)===o+"/"){var l=f.slice(o.length);e.modules[n+l]=e.modules[o+l]}else f===o&&(e.modules[n]=e.modules[o])}},function(){var t={},n=typeof window!="undefined"?window:{},r=!1;e.define=function(i,s){!r&&e.modules.__browserify_process&&(t=e.modules.__browserify_process(),r=!0);var o=e._core[i]?"":e.modules.path().dirname(i),u=function(t){var n=e(t,o),r=e.cache[e.resolve(t,o)];return r&&r.parent===null&&(r.parent=a),n};u.resolve=function(t){return e.resolve(t,o)},u.modules=e.modules,u.define=e.define,u.cache=e.cache;var a={id:i,filename:i,exports:{},loaded:!1,parent:null};e.modules[i]=function(){return e.cache[i]=a,s.call(a.exports,u,a,a.exports,o,i,t,n),a.loaded=!0,a.exports}}}(),e.define("path",function(e,t,n,r,i,s,o){function u(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function a(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var f=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(u(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=f.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=f.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return f.exec(e)[3]||""}}),e.define("__browserify_process",function(e,t,n,r,i,s,o){var s=t.exports={};s.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return window.setImmediate;if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&e.data==="browserify-tick"){e.stopPropagation();if(n.length>0){var t=n.shift();t()}}},!0),function(t){n.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t="/",n;s.cwd=function(){return t},s.chdir=function(r){n||(n=e("path")),t=n.resolve(r,t)}}()}),e.define("/lib/XCSSMatrix.js",function(e,t,n,r,i,s,o){function a(e){this.m11=this.m22=this.m33=this.m44=1,this.m12=this.m13=this.m14=this.m21=this.m23=this.m24=this.m31=this.m32=this.m34=this.m41=this.m42=this.m43=0,typeof e=="string"&&this.setMatrixValue(e)}function c(e){return String.fromCharCode(e+97)}function h(e){return"m"+(Math.floor(e/4)+1)+(e%4+1)}function d(e){return e.value}function v(e){return p[e]}function m(e){return e.units==="rad"?(e.value=u.angles.rad2deg(e.value),e.units="deg"):e.units==="grad"&&(e.value=u.angles.grad2deg(e.value),e.units="deg"),e}function g(e,t){t.value=t.value.map(m);var n=v(t.key),r=n(e,t);return r||e}function y(e){var t=u.transp.stringToStatements(e);if(t.length===1&&/^matrix/.test(e))return e;var n=u.funcs.onlyFirstArg(u.transp.statementToObject),r=t.map(n),i=new a,s=r.reduce(g,i),o=s.toString();return o}var u={angles:e("./angleUtils"),matrix:e("./matrixUtils"),transp:e("./cssTransformStringUtils"),funcs:{onlyFirstArg:function(e,t){return t=t||this,function(n){return e.call(t,n)}}}};a.displayName="XCSSMatrix";var f=["a","b","c","d","e","f"],l=["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"];[["m11","a"],["m12","b"],["m21","c"],["m22","d"],["m41","e"],["m42","f"]].forEach(function(e){var t=e[0],n=e[1];Object.defineProperty(a.prototype,n,{set:function(e){this[t]=e},get:function(){return this[t]},enumerable:!0,configurable:!0})}),a.prototype.multiply=function(e){if(!e)return null;var t=e,n=this,r=new a;return r.m11=t.m11*n.m11+t.m12*n.m21+t.m13*n.m31+t.m14*n.m41,r.m12=t.m11*n.m12+t.m12*n.m22+t.m13*n.m32+t.m14*n.m42,r.m13=t.m11*n.m13+t.m12*n.m23+t.m13*n.m33+t.m14*n.m43,r.m14=t.m11*n.m14+t.m12*n.m24+t.m13*n.m34+t.m14*n.m44,r.m21=t.m21*n.m11+t.m22*n.m21+t.m23*n.m31+t.m24*n.m41,r.m22=t.m21*n.m12+t.m22*n.m22+t.m23*n.m32+t.m24*n.m42,r.m23=t.m21*n.m13+t.m22*n.m23+t.m23*n.m33+t.m24*n.m43,r.m24=t.m21*n.m14+t.m22*n.m24+t.m23*n.m34+t.m24*n.m44,r.m31=t.m31*n.m11+t.m32*n.m21+t.m33*n.m31+t.m34*n.m41,r.m32=t.m31*n.m12+t.m32*n.m22+t.m33*n.m32+t.m34*n.m42,r.m33=t.m31*n.m13+t.m32*n.m23+t.m33*n.m33+t.m34*n.m43,r.m34=t.m31*n.m14+t.m32*n.m24+t.m33*n.m34+t.m34*n.m44,r.m41=t.m41*n.m11+t.m42*n.m21+t.m43*n.m31+t.m44*n.m41,r.m42=t.m41*n.m12+t.m42*n.m22+t.m43*n.m32+t.m44*n.m42,r.m43=t.m41*n.m13+t.m42*n.m23+t.m43*n.m33+t.m44*n.m43,r.m44=t.m41*n.m14+t.m42*n.m24+t.m43*n.m34+t.m44*n.m44,r},a.prototype.inverse=function(){var e;if(u.matrix.isIdentityOrTranslation(this)){e=new a;if(this.m41!==0||this.m42!==0||this.m43!==0)e.m41=-this.m41,e.m42=-this.m42,e.m43=-this.m43;return e}var t=u.matrix.adjoint(this),n=u.matrix.determinant4x4(this);if(Math.abs(n)<1e-8)return null;for(var r=1;r<5;r++)for(var i=1;i<5;i++)t["m"+r+i]/=n;return t},a.prototype.rotate=function(e,t,n){if(typeof e!="number"||isNaN(e))e=0;(typeof t!="number"||isNaN(t))&&(typeof n!="number"||isNaN(n))&&(n=e,e=0,t=0);if(typeof t!="number"||isNaN(t))t=0;if(typeof n!="number"||isNaN(n))n=0;e=u.angles.deg2rad(e),t=u.angles.deg2rad(t),n=u.angles.deg2rad(n);var r=new a,i=new a,s=new a,o,f,l;n/=2,o=Math.sin(n),f=Math.cos(n),l=o*o,s.m11=s.m22=1-2*l,s.m12=s.m21=2*o*f,s.m21*=-1,t/=2,o=Math.sin(t),f=Math.cos(t),l=o*o,i.m11=i.m33=1-2*l,i.m13=i.m31=2*o*f,i.m13*=-1,e/=2,o=Math.sin(e),f=Math.cos(e),l=o*o,r.m22=r.m33=1-2*l,r.m23=r.m32=2*o*f,r.m32*=-1;var c=new a,h=this.toString()===idenity.toString(),p=h?s.multiply(i).multiply(r):this.multiply(r).multiply(i).multiply(s);return p},a.prototype.rotateAxisAngle=function(e,t,n,r){if(typeof e!="number"||isNaN(e))e=0;if(typeof t!="number"||isNaN(t))t=0;if(typeof n!="number"||isNaN(n))n=0;if(typeof r!="number"||isNaN(r))r=0;e===0&&t===0&&n===0&&(n=1);var i=new a,s=Math.sqrt(e*e+t*t+n*n),o,f,l,c,h,p,d;return r=(u.angles.deg2rad(r)||0)/2,o=Math.cos(r),f=Math.sin(r),l=f*f,s===0?(e=0,t=0,n=1):s!==1&&(e/=s,t/=s,n/=s),e===1&&t===0&&n===0?(i.m22=i.m33=1-2*l,i.m23=i.m32=2*o*f,i.m32*=-1):e===0&&t===1&&n===0?(i.m11=i.m33=1-2*l,i.m13=i.m31=2*o*f,i.m13*=-1):e===0&&t===0&&n===1?(i.m11=i.m22=1-2*l,i.m12=i.m21=2*o*f,i.m21*=-1):(c=f*o,h=e*e,p=t*t,d=n*n,i.m11=1-2*(p+d)*l,i.m12=2*(e*t*l+n*c),i.m13=2*(e*n*l-t*c),i.m21=2*(t*e*l-n*c),i.m22=1-2*(d+h)*l,i.m23=2*(t*n*l+e*c),i.m31=2*(n*e*l+t*c),i.m32=2*(n*t*l-e*c),i.m33=1-2*(h+p)*l),this.multiply(i)},a.prototype.scale=function(e,t,n){var r=new a;if(typeof e!="number"||isNaN(e))e=1;if(typeof t!="number"||isNaN(t))t=e;if(typeof n!="number"||isNaN(n))n=1;return r.m11=e,r.m22=t,r.m33=n,this.multiply(r)},a.prototype.skewX=function(e){var t=u.angles.deg2rad(e),n=new a;return n.c=Math.tan(t),this.multiply(n)},a.prototype.skewY=function(e){var t=u.angles.deg2rad(e),n=new a;return n.b=Math.tan(t),this.multiply(n)},a.prototype.translate=function(e,t,n){var r=new a;if(typeof e!="number"||isNaN(e))e=0;if(typeof t!="number"||isNaN(t))t=0;if(typeof n!="number"||isNaN(n))n=0;return r.m41=e,r.m42=t,r.m43=n,this.multiply(r)},a.prototype.setMatrixValue=function(e){var t=y(e.trim()),n=u.transp.statementToObject(t);if(!n)return;var r=n.key===u.transp.matrixFn3d,i=r?h:c,s=n.value,o=s.length;if(r&&o!==16||!r&&o!==6)return;s.forEach(function(e,t){var n=i(t);this[n]=e.value},this)},a.prototype.toString=function(){var e,t;return u.matrix.isAffine(this)?(t=u.transp.matrixFn2d,e=f):(t=u.transp.matrixFn3d,e=l),t+"("+e.map(function(e){return this[e].toFixed(6)},this).join(", ")+")"};var p={matrix:function(e,t){var n=new a(t.unparsed);return e.multiply(n)},matrix3d:function(e,t){var n=new a(t.unparsed);return e.multiply(n)},perspective:function(e,t){var n=new a;return n.m34-=1/t.value[0].value,e.multiply(n)},rotate:function(e,t){return e.rotate.apply(e,t.value.map(d))},rotate3d:function(e,t){return e.rotateAxisAngle.apply(e,t.value.map(d))},rotateX:function(e,t){return e.rotate.apply(e,[t.value[0].value,0,0])},rotateY:function(e,t){return e.rotate.apply(e,[0,t.value[0].value,0])},rotateZ:function(e,t){return e.rotate.apply(e,[0,0,t.value[0].value])},scale:function(e,t){return e.scale.apply(e,t.value.map(d))},scale3d:function(e,t){return e.scale.apply(e,t.value.map(d))},scaleX:function(e,t){return e.scale.apply(e,t.value.map(d))},scaleY:function(e,t){return e.scale.apply(e,[0,t.value[0].value,0])},scaleZ:function(e,t){return e.scale.apply(e,[0,0,t.value[0].value])},skew:function(e,t){var n=new a("skewX("+t.value[0].unparsed+")"),r=new a("skewY("+t.value[1].unparsed+")"),i="matrix(1.00000, "+r.b+", "+n.c+", 1.000000, 0.000000, 0.000000)",s=new a(i);return e.multiply(s)},skewX:function(e,t){return e.skewX.apply(e,[t.value[0].value])},skewY:function(e,t){return e.skewY.apply(e,[t.value[0].value])},translate:function(e,t){return e.translate.apply(e,t.value.map(d))},translate3d:function(e,t){return e.translate.apply(e,t.value.map(d))},translateX:function(e,t){return e.translate.apply(e,[t.value[0].value,0,0])},translateY:function(e,t){return e.translate.apply(e,[0,t.value[0].value,0])},translateZ:function(e,t){return e.translate.apply(e,[0,0,t.value[0].value])}};t.exports=a}),e.define("/lib/angleUtils.js",function(e,t,n,r,i,s,o){function u(e){return e*Math.PI/180}function a(e){return e*(180/Math.PI)}function f(e){return e/(400/360)}t.exports={deg2rad:u,rad2deg:a,grad2deg:f}}),e.define("/lib/matrixUtils.js",function(e,t,n,r,i,s,o){function u(e,t,n,r){return e*r-t*n}function a(e,t,n,r,i,s,o,a,f){return e*u(i,s,a,f)-r*u(t,n,a,f)+o*u(t,n,i,s)}function f(e){var t=e,n=t.m11,r=t.m21,i=t.m31,s=t.m41,o=t.m12,u=t.m22,f=t.m32,l=t.m42,c=t.m13,h=t.m23,p=t.m33,d=t.m43,v=t.m14,m=t.m24,g=t.m34,y=t.m44;return n*a(u,h,m,f,p,g,l,d,y)-r*a(o,c,v,f,p,g,l,d,y)+i*a(o,c,v,u,h,m,l,d,y)-s*a(o,c,v,u,h,m,f,p,g)}function l(e){return e.m13===0&&e.m14===0&&e.m23===0&&e.m24===0&&e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m43===0&&e.m44===1}function c(e){var t=e;return t.m11===1&&t.m12===0&&t.m13===0&&t.m14===0&&t.m21===0&&t.m22===1&&t.m23===0&&t.m24===0&&t.m31===0&&t.m31===0&&t.m33===1&&t.m34===0&&t.m44===1}function h(e){var t=e,n=new e.constructor,r=t.m11,i=t.m12,s=t.m13,o=t.m14,u=t.m21,f=t.m22,l=t.m23,c=t.m24,h=t.m31,p=t.m32,d=t.m33,v=t.m34,m=t.m41,g=t.m42,y=t.m43,b=t.m44;return n.m11=a(f,p,g,l,d,y,c,v,b),n.m21=-a(u,h,m,l,d,y,c,v,b),n.m31=a(u,h,m,f,p,g,c,v,b),n.m41=-a(u,h,m,f,p,g,l,d,y),n.m12=-a(i,p,g,s,d,y,o,v,b),n.m22=a(r,h,m,s,d,y,o,v,b),n.m32=-a(r,h,m,i,p,g,o,v,b),n.m42=a(r,h,m,i,p,g,s,d,y),n.m13=a(i,f,g,s,l,y,o,c,b),n.m23=-a(r,u,m,s,l,y,o,c,b),n.m33=a(r,u,m,i,f,g,o,c,b),n.m43=-a(r,u,m,i,f,g,s,l,y),n.m14=-a(i,f,p,s,l,d,o,c,v),n.m24=a(r,u,h,s,l,d,o,c,v),n.m34=-a(r,u,h,i,f,p,o,c,v),n.m44=a(r,u,h,i,f,p,s,l,d),n}t.exports={determinant2x2:u,determinant3x3:a,determinant4x4:f,isAffine:l,isIdentityOrTranslation:c,adjoint:h}}),e.define("/lib/cssTransformStringUtils.js",function(e,t,n,r,i,s,o){function a(e){var t=/([\-\+]?[0-9]+[\.0-9]*)(deg|rad|grad|px|%)*/,n=e.match(t)||[];return{value:parseFloat(n[1]),units:n[2],unparsed:e}}function f(e,t){var n=/(\w+)\(([^\)]+)\)/i,r=e.toString().match(n).slice(1),i=r[0],s=r[1].split(/, ?/),o=!t&&s.map(a);return{key:i,value:o||s,unparsed:e}}function l(e){var t=/(\w+)\([^\)]+\)/ig,n=e.match(t)||[];return n}var u={angles:e("./angleUtils.js")};t.exports={matrixFn2d:"matrix",matrixFn3d:"matrix3d",valueToObject:a,statementToObject:f,stringToStatements:l}}),e.define("/index.js",function(e,t,n,r,i,s,o){var u=e("./lib/XCSSMatrix.js");t.exports=u}),e("/index.js"),e.define("/lib/XCSSMatrix.js",function(e,t,n,r,i,s,o){function a(e){this.m11=this.m22=this.m33=this.m44=1,this.m12=this.m13=this.m14=this.m21=this.m23=this.m24=this.m31=this.m32=this.m34=this.m41=this.m42=this.m43=0,typeof e=="string"&&this.setMatrixValue(e)}function c(e){return String.fromCharCode(e+97)}function h(e){return"m"+(Math.floor(e/4)+1)+(e%4+1)}function d(e){return e.value}function v(e){return p[e]}function m(e){return e.units==="rad"?(e.value=u.angles.rad2deg(e.value),e.units="deg"):e.units==="grad"&&(e.value=u.angles.grad2deg(e.value),e.units="deg"),e}function g(e,t){t.value=t.value.map(m);var n=v(t.key),r=n(e,t);return r||e}function y(e){var t=u.transp.stringToStatements(e);if(t.length===1&&/^matrix/.test(e))return e;var n=u.funcs.onlyFirstArg(u.transp.statementToObject),r=t.map(n),i=new a,s=r.reduce(g,i),o=s.toString();return o}var u={angles:e("./angleUtils"),matrix:e("./matrixUtils"),transp:e("./cssTransformStringUtils"),funcs:{onlyFirstArg:function(e,t){return t=t||this,function(n){return e.call(t,n)}}}};a.displayName="XCSSMatrix";var f=["a","b","c","d","e","f"],l=["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"];[["m11","a"],["m12","b"],["m21","c"],["m22","d"],["m41","e"],["m42","f"]].forEach(function(e){var t=e[0],n=e[1];Object.defineProperty(a.prototype,n,{set:function(e){this[t]=e},get:function(){return this[t]},enumerable:!0,configurable:!0})}),a.prototype.multiply=function(e){if(!e)return null;var t=e,n=this,r=new a;return r.m11=t.m11*n.m11+t.m12*n.m21+t.m13*n.m31+t.m14*n.m41,r.m12=t.m11*n.m12+t.m12*n.m22+t.m13*n.m32+t.m14*n.m42,r.m13=t.m11*n.m13+t.m12*n.m23+t.m13*n.m33+t.m14*n.m43,r.m14=t.m11*n.m14+t.m12*n.m24+t.m13*n.m34+t.m14*n.m44,r.m21=t.m21*n.m11+t.m22*n.m21+t.m23*n.m31+t.m24*n.m41,r.m22=t.m21*n.m12+t.m22*n.m22+t.m23*n.m32+t.m24*n.m42,r.m23=t.m21*n.m13+t.m22*n.m23+t.m23*n.m33+t.m24*n.m43,r.m24=t.m21*n.m14+t.m22*n.m24+t.m23*n.m34+t.m24*n.m44,r.m31=t.m31*n.m11+t.m32*n.m21+t.m33*n.m31+t.m34*n.m41,r.m32=t.m31*n.m12+t.m32*n.m22+t.m33*n.m32+t.m34*n.m42,r.m33=t.m31*n.m13+t.m32*n.m23+t.m33*n.m33+t.m34*n.m43,r.m34=t.m31*n.m14+t.m32*n.m24+t.m33*n.m34+t.m34*n.m44,r.m41=t.m41*n.m11+t.m42*n.m21+t.m43*n.m31+t.m44*n.m41,r.m42=t.m41*n.m12+t.m42*n.m22+t.m43*n.m32+t.m44*n.m42,r.m43=t.m41*n.m13+t.m42*n.m23+t.m43*n.m33+t.m44*n.m43,r.m44=t.m41*n.m14+t.m42*n.m24+t.m43*n.m34+t.m44*n.m44,r},a.prototype.inverse=function(){var e;if(u.matrix.isIdentityOrTranslation(this)){e=new a;if(this.m41!==0||this.m42!==0||this.m43!==0)e.m41=-this.m41,e.m42=-this.m42,e.m43=-this.m43;return e}var t=u.matrix.adjoint(this),n=u.matrix.determinant4x4(this);if(Math.abs(n)<1e-8)return null;for(var r=1;r<5;r++)for(var i=1;i<5;i++)t["m"+r+i]/=n;return t},a.prototype.rotate=function(e,t,n){if(typeof e!="number"||isNaN(e))e=0;(typeof t!="number"||isNaN(t))&&(typeof n!="number"||isNaN(n))&&(n=e,e=0,t=0);if(typeof t!="number"||isNaN(t))t=0;if(typeof n!="number"||isNaN(n))n=0;e=u.angles.deg2rad(e),t=u.angles.deg2rad(t),n=u.angles.deg2rad(n);var r=new a,i=new a,s=new a,o,f,l;n/=2,o=Math.sin(n),f=Math.cos(n),l=o*o,s.m11=s.m22=1-2*l,s.m12=s.m21=2*o*f,s.m21*=-1,t/=2,o=Math.sin(t),f=Math.cos(t),l=o*o,i.m11=i.m33=1-2*l,i.m13=i.m31=2*o*f,i.m13*=-1,e/=2,o=Math.sin(e),f=Math.cos(e),l=o*o,r.m22=r.m33=1-2*l,r.m23=r.m32=2*o*f,r.m32*=-1;var c=new a,h=this.toString()===idenity.toString(),p=h?s.multiply(i).multiply(r):this.multiply(r).multiply(i).multiply(s);return p},a.prototype.rotateAxisAngle=function(e,t,n,r){if(typeof e!="number"||isNaN(e))e=0;if(typeof t!="number"||isNaN(t))t=0;if(typeof n!="number"||isNaN(n))n=0;if(typeof r!="number"||isNaN(r))r=0;e===0&&t===0&&n===0&&(n=1);var i=new a,s=Math.sqrt(e*e+t*t+n*n),o,f,l,c,h,p,d;return r=(u.angles.deg2rad(r)||0)/2,o=Math.cos(r),f=Math.sin(r),l=f*f,s===0?(e=0,t=0,n=1):s!==1&&(e/=s,t/=s,n/=s),e===1&&t===0&&n===0?(i.m22=i.m33=1-2*l,i.m23=i.m32=2*o*f,i.m32*=-1):e===0&&t===1&&n===0?(i.m11=i.m33=1-2*l,i.m13=i.m31=2*o*f,i.m13*=-1):e===0&&t===0&&n===1?(i.m11=i.m22=1-2*l,i.m12=i.m21=2*o*f,i.m21*=-1):(c=f*o,h=e*e,p=t*t,d=n*n,i.m11=1-2*(p+d)*l,i.m12=2*(e*t*l+n*c),i.m13=2*(e*n*l-t*c),i.m21=2*(t*e*l-n*c),i.m22=1-2*(d+h)*l,i.m23=2*(t*n*l+e*c),i.m31=2*(n*e*l+t*c),i.m32=2*(n*t*l-e*c),i.m33=1-2*(h+p)*l),this.multiply(i)},a.prototype.scale=function(e,t,n){var r=new a;if(typeof e!="number"||isNaN(e))e=1;if(typeof t!="number"||isNaN(t))t=e;if(typeof n!="number"||isNaN(n))n=1;return r.m11=e,r.m22=t,r.m33=n,this.multiply(r)},a.prototype.skewX=function(e){var t=u.angles.deg2rad(e),n=new a;return n.c=Math.tan(t),this.multiply(n)},a.prototype.skewY=function(e){var t=u.angles.deg2rad(e),n=new a;return n.b=Math.tan(t),this.multiply(n)},a.prototype.translate=function(e,t,n){var r=new a;if(typeof e!="number"||isNaN(e))e=0;if(typeof t!="number"||isNaN(t))t=0;if(typeof n!="number"||isNaN(n))n=0;return r.m41=e,r.m42=t,r.m43=n,this.multiply(r)},a.prototype.setMatrixValue=function(e){var t=y(e.trim()),n=u.transp.statementToObject(t);if(!n)return;var r=n.key===u.transp.matrixFn3d,i=r?h:c,s=n.value,o=s.length;if(r&&o!==16||!r&&o!==6)return;s.forEach(function(e,t){var n=i(t);this[n]=e.value},this)},a.prototype.toString=function(){var e,t;return u.matrix.isAffine(this)?(t=u.transp.matrixFn2d,e=f):(t=u.transp.matrixFn3d,e=l),t+"("+e.map(function(e){return this[e].toFixed(6)},this).join(", ")+")"};var p={matrix:function(e,t){var n=new a(t.unparsed);return e.multiply(n)},matrix3d:function(e,t){var n=new a(t.unparsed);return e.multiply(n)},perspective:function(e,t){var n=new a;return n.m34-=1/t.value[0].value,e.multiply(n)},rotate:function(e,t){return e.rotate.apply(e,t.value.map(d))},rotate3d:function(e,t){return e.rotateAxisAngle.apply(e,t.value.map(d))},rotateX:function(e,t){return e.rotate.apply(e,[t.value[0].value,0,0])},rotateY:function(e,t){return e.rotate.apply(e,[0,t.value[0].value,0])},rotateZ:function(e,t){return e.rotate.apply(e,[0,0,t.value[0].value])},scale:function(e,t){return e.scale.apply(e,t.value.map(d))},scale3d:function(e,t){return e.scale.apply(e,t.value.map(d))},scaleX:function(e,t){return e.scale.apply(e,t.value.map(d))},scaleY:function(e,t){return e.scale.apply(e,[0,t.value[0].value,0])},scaleZ:function(e,t){return e.scale.apply(e,[0,0,t.value[0].value])},skew:function(e,t){var n=new a("skewX("+t.value[0].unparsed+")"),r=new a("skewY("+t.value[1].unparsed+")"),i="matrix(1.00000, "+r.b+", "+n.c+", 1.000000, 0.000000, 0.000000)",s=new a(i);return e.multiply(s)},skewX:function(e,t){return e.skewX.apply(e,[t.value[0].value])},skewY:function(e,t){return e.skewY.apply(e,[t.value[0].value])},translate:function(e,t){return e.translate.apply(e,t.value.map(d))},translate3d:function(e,t){return e.translate.apply(e,t.value.map(d))},translateX:function(e,t){return e.translate.apply(e,[t.value[0].value,0,0])},translateY:function(e,t){return e.translate.apply(e,[0,t.value[0].value,0])},translateZ:function(e,t){return e.translate.apply(e,[0,0,t.value[0].value])}};t.exports=a}),e("/lib/XCSSMatrix.js"),e.define("/lib/angleUtils.js",function(e,t,n,r,i,s,o){function u(e){return e*Math.PI/180}function a(e){return e*(180/Math.PI)}function f(e){return e/(400/360)}t.exports={deg2rad:u,rad2deg:a,grad2deg:f}}),e("/lib/angleUtils.js"),e.define("/lib/cssTransformStringUtils.js",function(e,t,n,r,i,s,o){function a(e){var t=/([\-\+]?[0-9]+[\.0-9]*)(deg|rad|grad|px|%)*/,n=e.match(t)||[];return{value:parseFloat(n[1]),units:n[2],unparsed:e}}function f(e,t){var n=/(\w+)\(([^\)]+)\)/i,r=e.toString().match(n).slice(1),i=r[0],s=r[1].split(/, ?/),o=!t&&s.map(a);return{key:i,value:o||s,unparsed:e}}function l(e){var t=/(\w+)\([^\)]+\)/ig,n=e.match(t)||[];return n}var u={angles:e("./angleUtils.js")};t.exports={matrixFn2d:"matrix",matrixFn3d:"matrix3d",valueToObject:a,statementToObject:f,stringToStatements:l}}),e("/lib/cssTransformStringUtils.js"),e.define("/lib/matrixUtils.js",function(e,t,n,r,i,s,o){function u(e,t,n,r){return e*r-t*n}function a(e,t,n,r,i,s,o,a,f){return e*u(i,s,a,f)-r*u(t,n,a,f)+o*u(t,n,i,s)}function f(e){var t=e,n=t.m11,r=t.m21,i=t.m31,s=t.m41,o=t.m12,u=t.m22,f=t.m32,l=t.m42,c=t.m13,h=t.m23,p=t.m33,d=t.m43,v=t.m14,m=t.m24,g=t.m34,y=t.m44;return n*a(u,h,m,f,p,g,l,d,y)-r*a(o,c,v,f,p,g,l,d,y)+i*a(o,c,v,u,h,m,l,d,y)-s*a(o,c,v,u,h,m,f,p,g)}function l(e){return e.m13===0&&e.m14===0&&e.m23===0&&e.m24===0&&e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m43===0&&e.m44===1}function c(e){var t=e;return t.m11===1&&t.m12===0&&t.m13===0&&t.m14===0&&t.m21===0&&t.m22===1&&t.m23===0&&t.m24===0&&t.m31===0&&t.m31===0&&t.m33===1&&t.m34===0&&t.m44===1}function h(e){var t=e,n=new e.constructor,r=t.m11,i=t.m12,s=t.m13,o=t.m14,u=t.m21,f=t.m22,l=t.m23,c=t.m24,h=t.m31,p=t.m32,d=t.m33,v=t.m34,m=t.m41,g=t.m42,y=t.m43,b=t.m44;return n.m11=a(f,p,g,l,d,y,c,v,b),n.m21=-a(u,h,m,l,d,y,c,v,b),n.m31=a(u,h,m,f,p,g,c,v,b),n.m41=-a(u,h,m,f,p,g,l,d,y),n.m12=-a(i,p,g,s,d,y,o,v,b),n.m22=a(r,h,m,s,d,y,o,v,b),n.m32=-a(r,h,m,i,p,g,o,v,b),n.m42=a(r,h,m,i,p,g,s,d,y),n.m13=a(i,f,g,s,l,y,o,c,b),n.m23=-a(r,u,m,s,l,y,o,c,b),n.m33=a(r,u,m,i,f,g,o,c,b),n.m43=-a(r,u,m,i,f,g,s,l,y),n.m14=-a(i,f,p,s,l,d,o,c,v),n.m24=a(r,u,h,s,l,d,o,c,v),n.m34=-a(r,u,h,i,f,p,o,c,v),n.m44=a(r,u,h,i,f,p,s,l,d),n}t.exports={determinant2x2:u,determinant3x3:a,determinant4x4:f,isAffine:l,isIdentityOrTranslation:c,adjoint:h}}),e("/lib/matrixUtils.js")})();